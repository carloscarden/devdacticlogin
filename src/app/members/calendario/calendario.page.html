<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button>
      </ion-menu-button>
    </ion-buttons>
    <ion-title class="textoTitulo">Agenda</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
       

<ion-item class="busquedaPrimera">
  <ion-label position="stacked" class="textoBold" color="success">Seleccionar mes</ion-label>
  <ion-select   okText="Okay" cancelText="Cancelar" [(ngModel)]="mesAbuscar">
    <ion-select-option value="todos">Todos los meses</ion-select-option>
    <ion-select-option *ngFor="let opt of nombreMeses; index as pos" value="{{pos}}">{{opt}}</ion-select-option>
  </ion-select>
</ion-item>
<ion-item class="busquedaSegunda">
  <ion-label position="stacked" class="textoBold" color="success">Seleccionar a&ntilde;o</ion-label>
  <ion-input class="fuente" type="number"  [(ngModel)]="anio" min="2019" max="2100" ></ion-input>
</ion-item>
<hr>
<hr>
<hr>
<hr>

 <div class="form-group">
  <ion-button (click)="filtrar()">Buscar</ion-button>
 </div>

 <hr>
 <hr>
 <h1>Tareas del a&ntilde;o {{anioBuscado}}</h1>
<hr>
<hr>

{{ ordenar() }}
<div *ngFor ="let tareasMeses of mesesCargados">
    <p>----------------------------------------------------------------------</p>
        <h3>{{ tareasMeses.nombreMes }}</h3>
    <p>----------------------------------------------------------------------</p>

    <div  *ngIf="tareasMeses.tareas.length==0" class="centrarResultado">
        <ion-label class="textoBold" color="success"> No hay resultados</ion-label>
    </div>

    <ion-list margin-top>
         <ion-item-sliding *ngFor="let tarea of tareasMeses.tareas">
              <ion-item lines="inset" button >
                <ion-label>
                  TAREA {{tarea.actividad.descripcion}}<br>
                  INICIO   <p>{{ stringAsDate(tarea.inicio) | date:'fullDate' }} {{ hora(tarea.inicio)}}</p>
                  FIN <p>{{ stringAsDate(tarea.fin) | date:'fullDate' }} {{ hora(tarea.fin)}}</p> 
                </ion-label>
              </ion-item>
          </ion-item-sliding>
     </ion-list>
</div>

<ion-infinite-scroll (ionInfinite)="loadMore($event)" loadingSpinner="bubbles" loadingText="Cargando Tareas..."  >
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
 </ion-infinite-scroll>





</ion-content>


<ion-footer>
  <ion-tab-bar slot="bottom">

    <ion-tab-button tab="month" (click)="changeMode('month')">
      <ion-icon name="apps"></ion-icon>
      <ion-label>Mes</ion-label>
 </ion-tab-button>
   


    <ion-tab-button tab="week" (click)="changeMode('week')">
         <ion-icon name="calendar"></ion-icon>
         <ion-label>Semana</ion-label>
    </ion-tab-button>
    
    <ion-tab-button tab="day" (click)="changeMode('day')">
      <ion-icon name="clock"></ion-icon>
      <ion-label>D&iacute;a</ion-label>
    </ion-tab-button>
   



     <ion-tab-button tab="add" (click)="addEvent()">
         <ion-icon name="add-circle"></ion-icon>
         <ion-label>Nuevo</ion-label>
     </ion-tab-button>
 
 
   </ion-tab-bar>

</ion-footer>  
