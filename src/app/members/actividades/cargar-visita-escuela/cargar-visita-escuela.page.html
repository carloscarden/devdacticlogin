<ion-header>
  <ion-toolbar color="primary">
    <ion-title class="textoTitulo">Visita Escuela</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
    <form #visitaForm="ngForm"  (ngSubmit)="logForm()">

        <ion-item>
           <ion-label position="stacked" class="textoBold" color="success">Servicio Visitado</ion-label>
           <ion-select okText="Okay" cancelText="Dismiss">
              <ion-select-option value="brown">Brown</ion-select-option>
              <ion-select-option value="blonde">Blonde</ion-select-option>
              <ion-select-option value="black">Black</ion-select-option>
              <ion-select-option value="red">Red</ion-select-option>
           </ion-select>
         </ion-item>      

        <ion-item>
            <ion-label position="stacked" class="textoBold" color="success">Fecha</ion-label>
                <ion-datetime displayFormat="MM DD YY" [(ngModel)]="inspeccion.inicio" name="fechaInicio" #fechaInicio="ngModel" required></ion-datetime>
                <div *ngIf="!(fechaInicio.valid || fechaInicio.pristine)" class="invalid-feedback">
                     La fecha de inicio es requerida
                </div>
        </ion-item>

        <ion-item>
          <ion-label position="stacked" class="textoBold" color="success">Hora inicio</ion-label>
          <ion-datetime displayFormat="HH:mm" [(ngModel)]="inspeccion.horaInicio" name="horaInicio" #horaInicio="ngModel" required></ion-datetime>
          <div *ngIf="!(horaInicio.valid || horaInicio.pristine)" class="invalid-feedback">
              La fecha de inicio es requerida
         </div>
        </ion-item>
        
        <ion-item>
          <ion-label position="stacked" class="textoBold" color="success">Hora Fin</ion-label>
          <ion-datetime displayFormat="HH:mm" [(ngModel)]="inspeccion.horaFin" name="horaFin" #horaFin="ngModel" required></ion-datetime>
          <div *ngIf="!(horaFin.valid || horaFin.pristine)" class="invalid-feedback">
              La fecha de inicio es requerida
         </div>
        </ion-item>
<!--  
        <ion-item>
            <ion-label position="stacked">SERVICIO VISITADO</ion-label>
            <ionic-selectable
              item-content
              [(ngModel)]="establecimiento"
              itemValueField="id"
              itemTextField="tipo"
              [items]="establecimientos"
              [canSearch]="true"
              (onSearch)="searchEstab($event)">
            </ionic-selectable>
          </ion-item>

          <ion-item>
              <ion-label>MOTIVO</ion-label>
              <ionic-selectable
                item-content
                [(ngModel)]="motivo"
                itemValueField="id"
                itemTextField="tipo"
                [items]="motivos"
                [canSearch]="true"
                (onSearch)="searchMotivos($event)">
              </ionic-selectable>
          </ion-item>   -->



        <ion-item>
            <ion-label position="stacked" class="textoBold" color="success">Motivo de la Visita</ion-label>
            <ion-select okText="Okay" cancelText="Dismiss">
              <ion-select-option value="brown">Brown</ion-select-option>
              <ion-select-option value="blonde">Blonde</ion-select-option>
              <ion-select-option value="black">Black</ion-select-option>
              <ion-select-option value="red">Red</ion-select-option>
            </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="stacked" class="textoBold" color="success">Observaciones</ion-label>
          <ion-input type="text" [(ngModel)]="inspeccion.observaciones" name="observaciones" #observaciones="ngModel" required></ion-input>
        </ion-item>

        <ion-item>
            <ion-label position="stacked" class="textoBold" color="success">Inspector Acompa√±ante</ion-label>
            <ion-input type="text" [(ngModel)]="inspeccion.inspectorVisitante" name="observaciones" #observaciones="ngModel" required></ion-input>
        </ion-item>

        <ion-item>
           <ion-list>
               <ion-item *ngFor="let img of images; index as pos" text-wrap>
                  <ion-thumbnail slot="start">
                    <ion-img [src]="img.path"></ion-img>
                  </ion-thumbnail>
                  <ion-label>
                     {{ img.name }}
                  </ion-label>
                  <ion-button slot="end" fill="clear" (click)="startUpload(img)">
                    <ion-icon slot="icon-only" name="cloud-upload"></ion-icon>
                  </ion-button>
                  <ion-button slot="end" fill="clear" (click)="deleteImage(img, pos)">
                    <ion-icon slot="icon-only" name="trash"></ion-icon>
                  </ion-button>
               </ion-item>
          </ion-list>
        </ion-item>

        <div>
         <ion-item>
           <ion-button (click)="selectImage()">
              <!--<ion-icon slot="end" name="camera"></ion-icon>-->
              ADJUNTAR
           </ion-button>
         </ion-item>
        </div> 

         <ion-fab vertical="bottom" horizontal="end" slot="icon-only">
             <ion-fab-button type="submit" [disabled]="!visitaForm.form.valid" color="tertiary">
               <!-- <ion-button type="submit" [disabled]="!visitaForm.form.valid"> --> 
                      <ion-icon name="checkmark"></ion-icon>
               <!-- </ion-button> -->
             </ion-fab-button>
          </ion-fab>
      </form>


      <button (click)="goBack()">go back</button>

</ion-content>

<ion-footer>
  <ion-toolbar color="primary">
    <ion-title class="textoFooter">Buenos Aires Provincia</ion-title>
  </ion-toolbar>
</ion-footer>