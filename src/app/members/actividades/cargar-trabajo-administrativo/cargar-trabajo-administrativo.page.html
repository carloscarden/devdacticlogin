<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title class="textoTitulo">Trabajo Administrativo</ion-title>
  </ion-toolbar>
</ion-header>
<!--{{ diagnostic }}-->
<ion-content padding>
    <form #trabajoAdminForm="ngForm" (ngSubmit)="onSubmit()">
        <ion-item>
          <ion-label position="stacked" class="textoBold" color="success">Fecha Inicio</ion-label>
          <ion-datetime displayFormat="DD/MMM/YYYY, HH:mm" pickerFormat="DD-MM-YYYY HH:mm" [(ngModel)]="trabajoAdmin.inicio" name="inicio" #inicio="ngModel" required></ion-datetime>
          <div *ngIf="!(inicio.valid || inicio.pristine)" class="invalid-feedback">
            La fecha de inicio es requerida
         </div>
        </ion-item>


        <ion-item>
          <ion-label position="stacked" class="textoBold" color="success">Fecha Fin</ion-label>
          <ion-datetime displayFormat="DD/MMM/YYYY, HH:mm" pickerFormat="DD-MM-YYYY HH:mm" [(ngModel)]="trabajoAdmin.fin" name="fin" #fin="ngModel" required></ion-datetime>
          <div *ngIf="!(fin.valid || fin.pristine)" class="invalid-feedback">
            La fecha de fin es requerida
         </div>
       </ion-item>
  
       <ion-item>
        <ion-label position="stacked" class="textoBold" color="success">Tipo</ion-label>
        <ionic-selectable
          item-content
          [(ngModel)]="trabajoAdmin.tipoTrabajoAdmin"
          name="convocatoriaTipo"
          itemValueField="codigo"
          itemTextField="descripcion"
          [items]="tiposTrabajos"
          [canSearch]="true"
          (onSearch)="searchPorts($event)">
        </ionic-selectable>
      </ion-item>

      
       <ion-item>
          <ion-label position="stacked" class="textoBold" color="success">Observaciones</ion-label>
          <ion-input type="text"  name="observaciones" [(ngModel)]="trabajoAdmin.observaciones" #observaciones="ngModel"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked" class="textoBold" color="success">Lugar</ion-label>
          <ion-input type="text"  name="observaciones" [(ngModel)]="trabajoAdmin.lugar" #observaciones="ngModel"></ion-input>
        </ion-item>
<!-- ********************************* Para plataformas moviles *********************************************************************** -->
          <!--  <ion-item>
                <h4 *ngIf="images.length == 0" text-center>CARGA CERTIFICADO!</h4>
                <ion-list>
                    <ion-item *ngFor="let img of images; index as pos" text-wrap>
                      <ion-thumbnail slot="start">
                        <ion-img [src]="img.path"></ion-img>
                      </ion-thumbnail>
                      <ion-label>
                          {{ img.name }}
                      </ion-label>
                      <ion-button slot="end" fill="clear" (click)="deleteImage(img, pos)">
                        <ion-icon slot="icon-only" name="trash"></ion-icon>
                      </ion-button>
                    </ion-item>
              </ion-list>
            </ion-item>
    
            
              <ion-item>
                <ion-button fill="clear" expand="full"  (click)="selectImage()">
                  <ion-icon slot="end" name="camera">
                  ADJUNTAR</ion-icon> Select Image
                </ion-button>
              </ion-item>  -->
        
<!-- **********************************  Para plataformas web  ********************************************************************** -->
              <hr>
              <ion-label position="stacked" class="textoBold" color="success" *ngIf="imagesWeb.length == 0" text-center>Seleccione una imagen</ion-label>
              <ion-list>
                  <ion-item *ngFor="let img of imagesWeb; index as pos" text-wrap>
                      <ion-thumbnail slot="start">  
                          <ion-img [src]="img.archivo"></ion-img>
                      </ion-thumbnail>
            
              
                      <ion-button slot="end" fill="clear" (click)="deleteImageWeb(pos)">
                          <ion-icon slot="icon-only" name="trash"></ion-icon>
                      </ion-button>
                  </ion-item> 
              </ion-list>

              <ion-item>
                <ion-label id="profile_image" color="primary" stacked>Imagen WEB</ion-label>
                <ion-input type="file" (change)="changeListener($event)"></ion-input>
              </ion-item>
<!-- ******************************************************************************************************** -->
         <div class="form-group">
          <img *ngIf="loading" class="pl-2" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
        </div>

         
        <ion-fab vertical="bottom" horizontal="end" >
            <ion-fab-button color="tertiary">
          <ion-button type="submit" [disabled]="!trabajoAdminForm.form.valid" color="tertiary">
                <ion-icon    name="checkmark"></ion-icon>
          </ion-button>
        </ion-fab-button>
         </ion-fab> 

        
        <!--
        <ion-fab vertical="bottom" horizontal="end" slot="icon-only">
            <ion-button type="submit" [disabled]="!trabajoAdminForm.form.valid" color="tertiary">
                   <ion-icon name="checkmark"></ion-icon>
             </ion-button>
       </ion-fab> -->
       
      
       

 
    </form>  

</ion-content>

<!--<ion-footer>
  <ion-toolbar color="primary">
    <ion-title class="textoFooter"><strong>Buenos Aires</strong> Provincia</ion-title>
  </ion-toolbar>
</ion-footer>-->
